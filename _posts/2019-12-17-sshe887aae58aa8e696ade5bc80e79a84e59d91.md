---
id: 506
title: ssh自动断开的坑
date: 2019-12-17T16:35:54+08:00
author: Remilia Scarlet
layout: post
tags:
  - Linux运维
---
问题：在公司利用ssh对一个控制器进行远程连接，然后调试到一半的时候忽然发现ssh断开，显示reset by peer。

解决过程：重新登录主机，通过ps命令发现之前启动的程序还在运行中，并且是运行在/pts/0这个终端中，用who命令查看所有登录的用户，发现ip是192.168.100.172，然后登录路由器的管理界面，发现并没有172这个ip，本机ip现在变成了178.

结论：ip是通过dhcp协议获取的，这里很可能因为租期到期而导致更换了ip